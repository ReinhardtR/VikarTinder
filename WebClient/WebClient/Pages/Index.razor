@page "/"
@using System.Security.Claims

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

@code {

    [CascadingParameter]
    public Task<AuthenticationState> AuthState { get; set; } = null!;
    
    protected override async Task OnInitializedAsync()
    {
        AuthenticationState state = await AuthState;
        ClaimsPrincipal principal = state.User;
        
        Console.WriteLine("IsAuthorized: " + principal.Identity?.IsAuthenticated);
        Console.WriteLine("Name: " + principal.Identity?.Name);
        
        foreach (Claim principalClaim in principal.Claims)
        {
            Console.WriteLine($"Name: {principalClaim.Type}, Value: {principalClaim.Value}");
        }

    }
}
