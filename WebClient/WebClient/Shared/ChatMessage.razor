@using System.Security.Claims
<MudStack>
    <MudPaper Class="@GetMessageClasses()" Style="@GetMessageStyles()">
        <MudText>@Content</MudText>
    </MudPaper>
    <MudText Typo="Typo.caption" Style="color: lightgray">
        @DateTime.Now.Subtract(SentAt).ToString()
    </MudText>
</MudStack>
  
@code {
    [Parameter]
    public int UserId { get; set; }

    [Parameter]
    public int AuthorId { get; set; }
      
    [Parameter]
    public string Content { get; set; }
    
    [Parameter]
    public DateTime SentAt { get; set; }

    private string GetMessageClasses()
    {
        const string baseClasses = "pa-3";
        string uniqueClasses = AuthorId == UserId ? "ml-auto" : "mr-auto";
        return $"{baseClasses} {uniqueClasses}";
    }

    private string GetMessageStyles()
    {
        const string baseStyles = "max-width: 80%; word-break: break-all;";
        string uniqueStyles = AuthorId == UserId ? "background-color: #ebebeb;" : "background-color: #ff4081; color: white;";
        return $"{baseStyles} {uniqueStyles}";
    }
}